//////////////////////////////////////////////////////////////////////////////
//
// Geoweb3d SDK
// Copyright (c) Geoweb3d, 2008-2023, all rights reserved.
//
// This code can be used only under the rights granted to you by the specific
// Geoweb3d SDK license under which the SDK provided.
//
//////////////////////////////////////////////////////////////////////////////

#pragma once
#include "../core/GW3DInterFace.h"
#include "GW3DExports.h"
#include <Geoweb3dCore/GeometryExports.h>

namespace Geoweb3d
{

	////////////////////////////////////////////////////////////////////////////////////////////////////
	// namespace: Vector
	////////////////////////////////////////////////////////////////////////////////////////////////////

	namespace Vector
	{

		////////////////////////////////////////////////////////////////////////////////////////////////////
		/// <summary> The Rasterizer Parameters	</summary>
		///
		/// <remarks> These will be used via the IGW3DVectorLayer::create_Rasterization API	</remarks>
		////////////////////////////////////////////////////////////////////////////////////////////////////

		struct GW3D_DLL GW3DRasterizorParameters
		{
			virtual ~GW3DRasterizorParameters() {}

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary>	Default constructor. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			GW3DRasterizorParameters() :
				init_r(0),
				init_g(0),
				init_b(0),
				no_data_r(0),
				no_data_g(0),
				no_data_b(0),
				burn_r(0),
				burn_g(0),
				burn_b(0),
				x_size(500),
				y_size(500),
				line_resolution(0.f)
			{ }

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary> Pre-initialize the output image bands with these values. 
			/// However, it is not marked as the no data value in the output file. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			unsigned int init_r;
			unsigned int init_g;
			unsigned int init_b;

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary> Assign a specified no data value to output bands. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			unsigned int no_data_r;
			unsigned int no_data_g;
			unsigned int no_data_b;

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary> A fixed value to burn into a band for all objects.  </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			unsigned int burn_r;
			unsigned int burn_g;
			unsigned int burn_b;

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary> Set target resolution. The values must be expressed in georeferenced units. Both must
			/// be positive values. Only used if line_resolution is not specified. (ie. if line_resolution <= 0)
			/// This will determine resolution of the rasterized output in conjunction with the target bounds. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			unsigned int x_size;
			unsigned int y_size;

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary> This will determine resolution of the rasterized output in conjunction with the target bounds.
			/// It is specified in meters. The final resolution is extrapolated assuming that this value is the 
			/// central pixel's metric dimension. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////
			
			float line_resolution;

			GW3DEnvelope env;
			IGW3DRasterDriverWPtr export_driver;

			////////////////////////////////////////////////////////////////////////////////////////////////////
			/// <summary>	Not hooked up yet. </summary>
			////////////////////////////////////////////////////////////////////////////////////////////////////

			IGW3DPropertyCollection* export_driver_properties;

		};
	}
}